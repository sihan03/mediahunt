(function(g){var window=this;'use strict';var Wo=function(z,p){g.Q.call(this,{j:"button",LH:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],C:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},J:[{j:"svg",C:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},J:[{j:"g",C:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},J:[{j:"g",C:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
J:[{j:"path",C:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.T=z;this.listen("click",this.onClick,this);this.updateValue("title",g.d$(z,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.Z7(p.t8(),this.element))},hP$=function(z){g.Q.call(this,
{j:"div",
B:"ytp-miniplayer-ui"});this.V=!1;this.player=z;this.Z(z,"minimized",this.gk);this.Z(z,"onStateChange",this.s3H);this.Z(z,"documentpictureinpicturechange",this.S1i)},PYl=function(z,p){g.Yf(z.player.getRootNode(),"ytp-player-minimized",p)},Ae9=function(z){g.Ms.call(this,z);
this.K=new g.or(this);this.W=new hP$(this.player);this.W.hide();g.F7(this.player,this.W.element,4);z.isMinimized()&&(this.load(),g.Yf(z.getRootNode(),"ytp-player-minimized",!0))};
g.Y(Wo,g.Q);Wo.prototype.onClick=function(){this.T.AD("onExpandMiniplayer")};g.Y(hP$,g.Q);g.V=hP$.prototype;
g.V.show=function(){this.W=new g.zV(this.xN,null,this);this.W.start();if(!this.V){this.tooltip=new g.SA(this.player,this);g.l(this,this.tooltip);g.F7(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.ws=new g.rb(this.player);g.l(this,this.ws);this.progressBar=new g.vI(this.player,this);g.l(this,this.progressBar);g.F7(this.player,this.progressBar.element,4);this.K=new g.Q({j:"div",B:"ytp-miniplayer-scrim"});g.l(this,this.K);this.K.Ia(this.element);this.Z(this.K.element,"click",this.zN);
var z=new g.Q({j:"button",LH:["ytp-miniplayer-close-button","ytp-button"],C:{"aria-label":"Close"},J:[g.ab()]});g.l(this,z);z.Ia(this.K.element);this.Z(z.element,"click",this.Lp);z=new Wo(this.player,this);g.l(this,z);z.Ia(this.K.element);this.D=new g.Q({j:"div",B:"ytp-miniplayer-controls"});g.l(this,this.D);this.D.Ia(this.K.element);this.Z(this.D.element,"click",this.zN);var p=new g.Q({j:"div",B:"ytp-miniplayer-button-container"});g.l(this,p);p.Ia(this.D.element);z=new g.Q({j:"div",B:"ytp-miniplayer-play-button-container"});
g.l(this,z);z.Ia(this.D.element);var c=new g.Q({j:"div",B:"ytp-miniplayer-button-container"});g.l(this,c);c.Ia(this.D.element);this.S=new g.WI(this.player,this,!1);g.l(this,this.S);this.S.Ia(p.element);p=new g.ds(this.player,this);g.l(this,p);p.Ia(z.element);this.nextButton=new g.WI(this.player,this,!0);g.l(this,this.nextButton);this.nextButton.Ia(c.element);this.G=new g.Mh(this.player,this,0);g.l(this,this.G);this.G.Ia(this.K.element);this.X=new g.Q({j:"div",B:"ytp-miniplayer-buttons"});g.l(this,
this.X);g.F7(this.player,this.X.element,4);z=new g.Q({j:"button",LH:["ytp-miniplayer-close-button","ytp-button"],C:{"aria-label":"Close"},J:[g.ab()]});g.l(this,z);z.Ia(this.X.element);this.Z(z.element,"click",this.Lp);z=new g.Q({j:"button",LH:["ytp-miniplayer-replay-button","ytp-button"],C:{"aria-label":"Close"},J:[g.CB()]});g.l(this,z);z.Ia(this.X.element);this.Z(z.element,"click",this.TJ$);z=new Wo(this.player,this);g.l(this,z);z.Ia(this.X.element);this.Z(this.player,"presentingplayerstatechange",
this.oA);this.Z(this.player,"appresize",this.UW);this.Z(this.player,"fullscreentoggled",this.UW);this.UW();this.V=!0}this.player.getPlayerState()!==0&&g.Q.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.V.hide=function(){this.W&&(this.W.dispose(),this.W=void 0);g.Q.prototype.hide.call(this);this.player.isMinimized()||(this.V&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.V.m0=function(){this.W&&(this.W.dispose(),this.W=void 0);g.Q.prototype.m0.call(this)};
g.V.Lp=function(){this.player.Y("kevlar_watch_while_v2")||this.player.stopVideo();this.player.AD("onCloseMiniplayer")};
g.V.TJ$=function(){this.player.playVideo()};
g.V.zN=function(z){if(z.target===this.K.element||z.target===this.D.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.V.gk=function(){PYl(this,this.player.isMinimized())};
g.V.S1i=function(){PYl(this,this.player.Pu());g.Yf(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.Pu())};
g.V.Jv=function(){this.progressBar.xr();this.G.xr()};
g.V.xN=function(){this.Jv();this.W&&this.W.start()};
g.V.oA=function(z){g.r(z.state,32)&&this.tooltip.hide()};
g.V.UW=function(){var z=this.player.Hq().getPlayerSize().width;g.C1D(this.progressBar,0,z,!1);g.IK(this.progressBar)};
g.V.s3H=function(z){this.player.isMinimized()&&(z===0?this.hide():this.show())};
g.V.t8=function(){return this.tooltip};
g.V.ya=function(z,p,c,B,H){var T=0,b=0,D=0,t=g.Wx(z);B=p&&(g.xf(p,"ytp-prev-button")||g.xf(p,"ytp-next-button"));if(p){c=g.xf(p,"ytp-play-button");var X=g.xf(p,"ytp-miniplayer-expand-watch-page-button");B?T=D=12:c?(p=g.K4(p,this.element),D=p.x,T=p.y-12):X&&(D=g.xf(p,"ytp-miniplayer-button-top-left"),T=g.K4(p,this.element),p=g.Wx(p),D?(D=8,T=T.y+40):(D=T.x-t.width+p.width,T=T.y-20))}else D=c-t.width/2,b=25+(H||0);p=this.player.Hq().getPlayerSize();H=T+(H||0);t=g.MQ(D,0,p.width-t.width-12);H?(z.style.top=
H+"px",z.style.bottom=""):(z.style.top="",z.style.bottom=b+"px");z.style.left=t+"px";b=g.xf(z,"ytp-preview");z.style.visibility=B&&b&&p.height<225?"hidden":""};g.Y(Ae9,g.Ms);g.V=Ae9.prototype;g.V.onVideoDataChange=function(){if(this.player.getVideoData()){var z=this.player.getVideoAspectRatio(),p=16/9;z=z>p+.1||z<p-.1;g.Yf(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",z)}};
g.V.create=function(){g.Ms.prototype.create.call(this);this.K.Z(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.V.Ln=function(){return!1};
g.V.load=function(){this.player.hideControls();this.W.show()};
g.V.unload=function(){this.player.showControls();this.W.hide()};g.JV("miniplayer",Ae9);})(_yt_player);
